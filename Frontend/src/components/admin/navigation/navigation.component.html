<nav class="bg-white border-b border-gray-200 dark:bg-gray-900 dark:border-gray-800">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo -->
      <a routerLink="/home-page"
        class="flex items-center gap-1 text-xl font-semibold tracking-tight text-gray-900 dark:text-gray-100">
        <span class="text-blue-600">Clothes</span>Store
      </a>

      <!-- Desktop navigation -->
      <div class="hidden md:flex items-center gap-4">
        <a routerLink="/home-page"
          class="text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-200 dark:hover:text-blue-400"
          routerLinkActive="text-blue-600 dark:text-blue-400" [routerLinkActiveOptions]="{ exact: true }">
          Начало
        </a>

        <a routerLink="/products"
          class="text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-200 dark:hover:text-blue-400"
          routerLinkActive="text-blue-600 dark:text-blue-400">
          Продукти
        </a>

        @if (isLoggedIn) {
        <a routerLink="/profile"
          class="text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-200 dark:hover:text-blue-400"
          routerLinkActive="text-blue-600 dark:text-blue-400">
          Профил
        </a>

        <button type="button" (click)="logout()"
          class="text-sm font-medium text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300">
          Изход
        </button>
        } @else {
        <a routerLink="/login"
          class="text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-200 dark:hover:text-blue-400"
          routerLinkActive="text-blue-600 dark:text-blue-400">
          Вход
        </a>

        <a routerLink="/register"
          class="text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-200 dark:hover:text-blue-400"
          routerLinkActive="text-blue-600 dark:text-blue-400">
          Регистрация
        </a>
        }

        <!-- Theme toggle -->
        <button type="button"
          class="ml-4 inline-flex h-9 w-9 items-center justify-center rounded-full border border-gray-300 text-gray-700 hover:bg-gray-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-gray-800"
          (click)="toggleTheme()">
          @if (isDarkMode()) {
          <!-- Sun icon -->
          <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="12" cy="12" r="4" stroke-width="1.7" />
            <path stroke-width="1.7"
              d="M12 2v2.5M12 19.5V22M4.22 4.22l1.77-1.77M17.99 6.01l1.79-1.79M2 12h2.5M19.5 12H22M4.22 19.78l1.77-1.77M17.99 17.99l1.79 1.79" />
          </svg>
          } @else {
          <!-- Moon icon -->
          <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-width="1.7" d="M20 14.5A7.5 7.5 0 0 1 10.5 5 6 6 0 1 0 20 14.5z" />
          </svg>
          }
          <span class="sr-only">Смяна на тема</span>
        </button>
      </div>

      <div class="flex md:hidden items-center gap-2">
        <button type="button"
          class="inline-flex items-center justify-center rounded-md p-2 text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800"
          (click)="toggleMobileMenu()">
          <span class="sr-only">Отваряне на менюто</span>
          <svg class="block h-6 w-6" viewBox="0 0 24 24" stroke="currentColor" fill="none">
            <path stroke-width="1.7" stroke-linecap="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>

    @if (isMobileMenuOpen) {
    <div class="md:hidden border-t border-gray-200 dark:border-gray-800 pb-4">
      <div class="space-y-1 pt-2">
        <a routerLink="/admin"
          class="block px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800"
          routerLinkActive="bg-gray-100 dark:bg-gray-800" [routerLinkActiveOptions]="{ exact: true }"
          (click)="toggleMobileMenu()">
          Начало
        </a>

        @if (isLoggedIn) {
        <button type="button" (click)="logout()"
          class="block w-full text-left px-3 py-2 text-sm font-medium text-red-600 hover:bg-gray-100 dark:text-red-400 dark:hover:bg-gray-800">
          Изход
        </button>
        } @else {
        <a routerLink="/login"
          class="block px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800"
          routerLinkActive="bg-gray-100 dark:bg-gray-800" (click)="toggleMobileMenu()">
          Вход
        </a>

        <a routerLink="/register"
          class="block px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800"
          routerLinkActive="bg-gray-100 dark:bg-gray-800" (click)="toggleMobileMenu()">
          Регистрация
        </a>
        }
      </div>

      <div class="mt-3 flex items-center justify-between px-3">
        <span class="text-xs text-gray-500 dark:text-gray-400">
          Тема
        </span>

        <button type="button" class="inline-flex h-9 w-9 items-center justify-center rounded-full border border-gray-300 text-gray-700 hover:bg-gray-100
               dark:border-gray-700 dark:text-gray-200 dark:hover:bg-gray-800" (click)="toggleTheme()">
          @if (isDarkMode()) {
          <!-- Sun icon -->
          <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="12" cy="12" r="4" stroke-width="1.7" />
            <path stroke-width="1.7"
              d="M12 2v2.5M12 19.5V22M4.22 4.22l1.77-1.77M17.99 6.01l1.79-1.79M2 12h2.5M19.5 12H22M4.22 19.78l1.77-1.77M17.99 17.99l1.79 1.79" />
          </svg>
          } @else {
          <!-- Moon icon -->
          <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-width="1.7" d="M20 14.5A7.5 7.5 0 0 1 10.5 5 6 6 0 1 0 20 14.5z" />
          </svg>
          }
          <span class="sr-only">Смяна на тема</span>
        </button>
      </div>
    </div>
    }

  </div>
</nav>